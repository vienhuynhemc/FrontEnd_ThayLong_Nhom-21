{"ast":null,"code":"import _asyncToGenerator from \"E:/Important/FIT/project-front-end/FrontEnd_ThayLong_Nhom-21/app-chat/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { PORT_MAP } from './port-map';\nexport const extendBrokerImplementation = partialBrokerImplementation => ({ ...partialBrokerImplementation,\n  connect: ({\n    call\n  }) => {\n    return /*#__PURE__*/_asyncToGenerator(function* () {\n      const {\n        port1,\n        port2\n      } = new MessageChannel();\n      const portId = yield call('connect', {\n        port: port1\n      }, [port1]);\n      PORT_MAP.set(port2, portId);\n      return port2;\n    });\n  },\n  disconnect: ({\n    call\n  }) => {\n    return /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (port) {\n        const portId = PORT_MAP.get(port);\n\n        if (portId === undefined) {\n          throw new Error('The given port is not connected.');\n        }\n\n        yield call('disconnect', {\n          portId\n        });\n      });\n\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n  },\n  isSupported: ({\n    call\n  }) => {\n    return () => call('isSupported');\n  }\n}); //# sourceMappingURL=extend-broker-implementation.js.map","map":null,"metadata":{},"sourceType":"module"}